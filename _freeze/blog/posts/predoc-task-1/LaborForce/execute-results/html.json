{
  "hash": "936701a9e36fd0ea52a6ffd69991203a",
  "result": {
    "markdown": "---\ntitle: \"Predoc Data Task 1: Labor Market Analysis\"\ndate: 2023-09-28\ncategories: [\"R\", \"Economics\"]\n---\n\n\nHere is my solution to the sample labour market analysis task published by [PreDoc.org](https://predoc.org). \n\nYou can find the full task [here](https://predoc.org/how-to-prepare).\n\n# Load libraries.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"dplyr\")\nlibrary(\"readr\")\nlibrary(\"forcats\")\nlibrary(\"ggplot2\")\nlibrary(\"ggpubr\")\nlibrary(\"ggthemes\")\ntheme_set(theme_fivethirtyeight())\n```\n:::\n\n\n# Read Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlabor <- read_csv(\"./task/cps_wages_LFP.csv\")\n```\n:::\n\n\n# (a) Summarize key trends in wages and labour force participation\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Overall summary by year\nlabor_by_year <- labor |>\n  mutate(\n    skilled = \"Combined\"\n  ) |>\n  group_by(year, skilled) |>\n  summarize(\n    wage = mean(wage, na.rm = TRUE),\n    lfp = sum(lfp == \"In labor force\", na.rm = TRUE) / sum(!is.na(lfp)),\n    count = n()\n  )\n\n# Summary grouped by skilled status\nlabor_by_year_and_skill <- labor |>\n  mutate(\n    skilled = case_when(\n      skilled == 1 ~ \"Skilled\",\n      skilled == 0 ~ \"Unskilled\",\n    )\n  ) |>\n  group_by(year, skilled) |>\n  summarize(\n    wage = mean(wage, na.rm = TRUE),\n    lfp = sum(lfp == \"In labor force\", na.rm = TRUE) / sum(!is.na(lfp)),\n    count = n()\n  )\n```\n:::\n\n\n## Wages Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot of wages by year\nwage_plot <- labor_by_year |>\n  ggplot(aes(year, wage, colour = skilled)) +\n  geom_line() +\n  geom_line(data = labor_by_year_and_skill) +\n  labs(\n    x = NULL, y = \"Wage (Nominal USD)\",\n    title = \"The Skill Wage Gap Has Expanded\",\n    subtitle = \"Despite rising wages for both groups\",\n    color = \"Worker Skill: \",\n    caption = \"Source: Author's Calculations\"\n  ) +\n  scale_x_continuous(breaks = seq(1980, 2020, by = 5)) +\n  scale_y_continuous(breaks = seq(5, 30, by = 5)) +\n  scale_colour_discrete(breaks = c(\"Skilled\", \"Combined\", \"Unskilled\"), na.translate = FALSE) +\n  theme(axis.title.y = element_text(vjust = 3), plot.title = element_text(size = 12))\n```\n:::\n\n\n## Labor Force Participation Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot of labor force participation by year\nlfp_plot <- labor_by_year |>\n  ggplot(aes(year, lfp, colour = skilled)) +\n  geom_line() +\n  geom_line(data = labor_by_year_and_skill) +\n  labs(\n    x = NULL, y = \"Labor Participation (%)\",\n    title = \"Participation Has Declined From 2001\",\n    subtitle = \"Especially for unskilled workers\",\n    color = \"Worker Skill: \",\n    caption = \"Source: Author's Calculations\"\n  ) +\n  scale_x_continuous(breaks = seq(1980, 2020, by = 5)) +\n  scale_y_continuous(limits = c(.4, .8), breaks = seq(.4, .8, by = .05), labels = scales::percent_format()) +\n  scale_colour_discrete(breaks = c(\"Skilled\", \"Combined\", \"Unskilled\"), na.translate = FALSE) +\n  theme(plot.title = element_text(size = 12))\n```\n:::\n\n\n## Summary\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggarrange(wage_plot, lfp_plot, ncol = 2, common.legend = TRUE, legend = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](LaborForce_files/figure-html/unnamed-chunk-6-1.png){fig-align='center' width=864}\n:::\n:::\n\n\nNominal wages have risen for both skilled and unskilled workers but not at the same rate. Skilled wages have risen faster causing the gap between skilled and unskilled wages to widen each decade since the 1980s.\n\nAcross the entire period labour force participation has been about 20% greater for skilled workers than unskilled workers even as participation has varied for each group individually.\n\nThe trends in participation are clearly correlated between the groups; peaks and valleys tended to occur in the same periods. Visually, unskilled participation appears to be more volatile. For both groups the maximum participation rate occurred in the early 2000s and has consistently declined since then; reaching the minimum level in 2015. \n\n# (b) Examine adult male labour force participation changes by group\n\n## Select and Isolate Relevant Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Age was imported as a string due to a few odd labels i.e. \"<1\" or \"99+\".\n# Casting to numeric doesn't affect the relevant data.\nadult_men <- labor |>\n  filter(as.numeric(age) >= 25 & sex == \"male\")\n```\n:::\n\n\n## Compute Group Summaries to Look for Relationships\n\nAlthough this question only asks about changes in labour force participation wage trends were plotted as well. Considering labour force participation alongside wages can illustrate some interesting differences between the groups and gives clues as to the underlying relationships.\n\n### By Skill Level\n\nAfter isolating the data for men over age 25, we can compare their skilled and unskilled wages and participation relative to the total population as calculated in part (a).\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Compare to the overall population as seen in part (a)\nadult_men_by_year_and_skill <- adult_men |>\n  mutate(\n    skilled = case_when(\n      skilled == 1 ~ \"Skilled\",\n      skilled == 0 ~ \"Unskilled\",\n    )\n  ) |>\n  group_by(year, skilled) |>\n  summarize(\n    wage = mean(wage, na.rm = TRUE),\n    lfp = sum(lfp == \"In labor force\", na.rm = TRUE) / sum(!is.na(lfp)),\n    count = n()\n  )\n\n# adult men wage plot by skill\n# unskilled men were previously above the population average but have fallen far below\n# perhaps the result of reductions in the gender wage gap\nadult_men_by_year_and_skill |>\n  ggplot(aes(year, wage, colour = skilled)) +\n  geom_line() +\n  geom_line(data = labor_by_year) +\n  labs(\n    x = NULL, y = \"Wage (Nominal USD)\",\n    title = \"The Wages of Unskilled Men Have Fallen Below the Population Average\",\n    color = \"Worker Skill: \",\n    caption = \"Source: Author's Calculations\"\n  ) +\n  scale_x_continuous(breaks = seq(1980, 2020, by = 5)) +\n  scale_y_continuous(breaks = seq(5, 30, by = 5)) +\n  scale_colour_discrete(breaks = c(\"Skilled\", \"Combined\", \"Unskilled\"), labels = c(\"Skilled Men\", \"Unskilled Men\", \"All Workers\"), na.translate = FALSE) +\n  theme(axis.title.y = element_text(vjust = 3), plot.title = element_text(size = 12))\n```\n\n::: {.cell-output-display}\n![](LaborForce_files/figure-html/unnamed-chunk-8-1.png){fig-align='center' width=864}\n:::\n\n```{.r .cell-code}\n# adult men labour force participation plot by skill\n# significant decrease in skilled participation over the period\nadult_men_by_year_and_skill |>\n  ggplot(aes(year, lfp, colour = skilled)) +\n  geom_line() +\n  geom_line(data = labor_by_year) +\n  labs(\n    x = NULL, y = \"Labor Participation (%)\",\n    title = \"Male Participation Remains Higher Than Average\",\n    subtitle = \"But has decreased significantly over time\", # not the store\n    color = \"Worker Skill: \",\n    caption = \"Source: Author's Calculations\"\n  ) +\n  scale_x_continuous(breaks = seq(1980, 2020, by = 5)) +\n  scale_y_continuous(limits = c(.55, 1), breaks = seq(.4, .9, by = .05), labels = scales::percent_format()) +\n  scale_colour_discrete(breaks = c(\"Skilled\", \"Unskilled\", \"Combined\"), labels = c(\"Skilled Men\", \"Unskilled Men\", \"All Workers\"), na.translate = FALSE) +\n  theme(plot.title = element_text(size = 12))\n```\n\n::: {.cell-output-display}\n![](LaborForce_files/figure-html/unnamed-chunk-8-2.png){fig-align='center' width=864}\n:::\n:::\n\n\nWe can see that both skilled and unskilled men followed very different trends to the general population between 1976 and 2000. While the participation of all workers was trending upwards, male participation was decreasing. \n\nThe increasing trend for the general population is likely due to women entering the labour force in greater numbers but it is not easy to guess why that would cause male participation to decline.\n\nAfter 2001 the male participation trends mirror those of the general population perhaps suggesting that increasing female participation ceased to be a significant factor. As expected male participation remains higher than average and the differential has been consistent since the early 2000s for both skilled and unskilled men.\n\nFor the total population, it was unskilled workers who were observed to have greater volatility in participation; but here we can see that the participation of skilled men fell more than that of unskilled men.\n\n### By Age Group\n\nAnother dimension that can be examined is participation across age groups.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Compare by age group\nadult_men_by_year_and_age_group <- adult_men |>\n  group_by(year, age_group) |>\n  summarize(\n    wage = mean(wage, na.rm = TRUE),\n    lfp = sum(lfp == \"In labor force\", na.rm = TRUE) / sum(!is.na(lfp)),\n    count = n()\n  )\n\n# adult men wage by age_group\nadult_men_by_year_and_age_group |>\n  ggplot(aes(year, wage, colour = age_group)) +\n  geom_line() +\n  labs(\n    x = NULL, y = \"Wage (Nominal USD)\",\n    title = \"The Wages of Retirement Age Workers Have Increased Significantly\",\n    subtitle = \"While early-career wages have fallen behind\",\n    color = \"Worker Age: \",\n    caption = \"Source: Author's Calculations\"\n  ) +\n  scale_x_continuous(breaks = seq(1980, 2020, by = 5)) +\n  scale_y_continuous(breaks = seq(5, 30, by = 5)) +\n  scale_colour_discrete(breaks = c(\"25 <= age < 45\", \"45 <= age < 65\", \"65 <= age\"), labels = c(\"25-45\", \"45-65\", \">65\"), na.translate = FALSE) +\n  theme(axis.title.y = element_text(vjust = 3), plot.title = element_text(size = 12))\n```\n\n::: {.cell-output-display}\n![](LaborForce_files/figure-html/unnamed-chunk-9-1.png){fig-align='center' width=864}\n:::\n\n```{.r .cell-code}\n# adult men labour force participation plot by age_group\n# no significant trend\nadult_men_by_year_and_age_group |>\n  ggplot(aes(year, lfp, colour = age_group)) +\n  geom_line() +\n  labs(\n    x = NULL, y = \"Labor Participation (%)\",\n    title = \"Little Change in Proportion of Early Retirement\",\n    subtitle = \"But retirement age Workers are participating more than ever\",\n    color = \"Worker Age: \",\n    caption = \"Source: Author's Calculations\"\n  ) +\n  scale_x_continuous(breaks = seq(1980, 2020, by = 5)) +\n  scale_y_continuous(limits = c(.15, 1), breaks = seq(.15, .9, by = .1), labels = scales::percent_format()) +\n  scale_colour_discrete(breaks = c(\"25 <= age < 45\", \"45 <= age < 65\", \"65 <= age\"), labels = c(\"25-45\", \"45-65\", \">65\"), na.translate = FALSE) +\n  theme(plot.title = element_text(size = 12))\n```\n\n::: {.cell-output-display}\n![](LaborForce_files/figure-html/unnamed-chunk-9-2.png){fig-align='center' width=864}\n:::\n:::\n\n\nBy age group neither early nor mid career workers have experienced a significant change in participation. However, retirement age worker participation has varied significantly over the period.\n\nIn the mid 1970s about 20% of men participated in the labour force. By the early 1990s that rate had declined to 15%. However since then elderly participation has increased to new highs of 25%.\n\nThis is a substantial change and merits some consideration.\n\n### By Race\n\nThere may also be changes in the labour force participation of men by race.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Compare by race\nadult_men_by_year_and_race <- adult_men |>\n  mutate(\n    race = case_when(\n      race == \"white\" & hispan == \"not hispanic\" ~ \"White\",\n      race == \"white\" ~ \"Hispanic\",\n      race == \"asian only\" ~ \"Asian\",\n      race == \"black/negro\" ~ \"Black\",\n      TRUE ~ \"Other\"\n    )\n  ) |>\n  group_by(year, race) |>\n  summarize(\n    wage = mean(wage, na.rm = TRUE),\n    lfp = sum(lfp == \"In labor force\", na.rm = TRUE) / sum(!is.na(lfp)),\n    count = n()\n  )\n\n# adult men wage by race\nadult_men_by_year_and_race |>\n  ggplot(aes(year, wage, colour = fct_reorder(race, wage))) +\n  geom_line() +\n  labs(\n    x = NULL, y = \"Wage (Nominal USD)\",\n    title = \"Black Wages Have Diverged From Hispanic Wages\",\n    subtitle = \"Asian's are Consistently the Highest Earning Americans\",\n    color = \"Race: \",\n    caption = \"Source: Author's Calculations\"\n  ) +\n  scale_x_continuous(breaks = seq(1980, 2020, by = 5)) +\n  scale_y_continuous(breaks = seq(5, 30, by = 5)) +\n  theme(axis.title.y = element_text(vjust = 3), plot.title = element_text(size = 12))\n```\n\n::: {.cell-output-display}\n![](LaborForce_files/figure-html/unnamed-chunk-10-1.png){fig-align='center' width=864}\n:::\n\n```{.r .cell-code}\n# adult men labour force participation plot by race\n# no significant trend\nadult_men_by_year_and_race |>\n  ggplot(aes(year, lfp, colour = fct_reorder(race, wage))) +\n  geom_line() +\n  labs(\n    x = NULL, y = \"Labor Participation (%)\",\n    title = \"Hispanic Participation is Very High Relative to Their Wages\",\n    subtitle = \"Black Participation Continues to Decline\",\n    color = \"Race: \",\n    caption = \"Source: Author's Calculations\"\n  ) +\n  scale_x_continuous(breaks = seq(1980, 2020, by = 5)) +\n  scale_y_continuous(limits = c(.55, 1), breaks = seq(.4, .9, by = .05), labels = scales::percent_format()) +\n  theme(plot.title = element_text(size = 12))\n```\n\n::: {.cell-output-display}\n![](LaborForce_files/figure-html/unnamed-chunk-10-2.png){fig-align='center' width=864}\n:::\n:::\n\n\nHispanic participation has been consistently high over the period with only small variation. The high participation of Hispanics is notable given their relatively low wages but that observation is not relevant to our current examination of participation *changes*.\n\nAsian workers have also had high participation but were only included in the data set starting in 2003.\n\nWhite workers have approximately mirrored the trends we saw for the total adult male population. This makes sense as they constitute the majority of observations.\n\nThere have been significant changes to the participation of black and other races. Other appears to have been impacted by changes to the survey methodology. The big drop in participation between 2002 and 2003 was probably due to the introduction of Asian as a category. \n\nThe change in black participation is notably different from the trend of the total population.\n\nBlack participation has declined 10 percentage points over the period. Unlike other groups they did not increase participation during the dot-com bubble and instead had a local maximum following the great recession; a characteristic that has not been observed for any other group.\n\n## Summary\n\nWe examined trends in labour force participation for adult men with respect to skill-level, age, and race.\n\nThe greatest changes were observed for:\n\n* Skilled workers and black workers whose participation rates each declined by around 10 percentage points, and,\n* Retirement age workers whose participation declined in the 1980s and 90s before rising sharply to the present,\n\n# (c) What factors are driving these patterns^[Usually I would put the analysis under the applicable chart but the task was structured to have it in a separate section]\n\n## Skilled Workers\n\n### Overall Population\n\nThe greater overall participation rate of skilled workers may be indicative of greater market demand for skilled workers. Perhaps above-market minimum wage laws are capping demand for unskilled labour causing proportionally more unskilled workers to leave the workforce. This could be tested by comparing changes across states with additional data on that state's minimum wage.\n\nThe greater participation rate of skilled workers could also be reflective of the greater opportunity cost they face in abandoning the workforce due to the higher wages they command. This hypothesis is undermined by the fact that while the wage gap has widened, increasing the relative opportunity cost difference, the participation gap has stayed the same. It would be best to convert the nominal wages to real wages to examine whether the real wage gap has increased.\n\n### Adult Men\n\nFor adult men the large decline in participation between the mid 1970s and 2000 appears to be offset against the increasing participation of the total population - which can be attributed to a higher proportion of women entering the workforce.\n\nPerhaps as women entered the workforce their partners became more likely to leave it. This may have had a more significant impact in households with two skilled workers which, given their higher and increasing wages, could afford to live on a single salary. This hypothesis could be tested by comparing the trends in participation for single skilled men against skilled men with skilled wives.\n\nAdditionally, the proportion of skilled workers likely changed over the period as America's economy transitioned from industrial to service based. As more of the population became skilled, the skilled population would become more average. That could be tested by confirming the proportion of skilled workers changed.\n\n## Black Workers\n\nIt is difficult to hypothesize why black labour force participation would decline over the period. The barriers to entry have presumably been reduced over the years which might lead one to expect their participation would have increased rather than decreased. \n\nOver the period we also observed wages for black people rising faster than those of Hispanics. On the opportunity cost hypothesis presented above this would be expected to increase participation. Nevertheless it was a decrease that was actually observed.\n\nPerhaps black people are concentrated in particular areas (urban and Southern) or professions (e.g. Industrial, agriculture) which have seen declining participation rates. First one would have to determine the accuracy of these generalizations and then test whether participation for workers of other races in those professions/areas also declined over the period.\n\n## Retirement Age Workers\n\nThe most interesting and intriguing observation was probably the change in retirement age wages and labour force participation.\n\nIn the 1970s retirement age participation was relatively high (~20%) despite retirement age wages being very low relative to the working age population.\n\nThrough to the mid 1990s the wage differential stayed the same while participation fell to ~15%.\n\nThen between the mid 90s and 2015 retirement age wages rose sharply on both a relative and absolute basis, and participation also increased to a high of ~25%.\n\nLooking only at the data since the mid 90s it would appear that as elderly workers became more valued by the market their participation increased. Their increased wages may be due to their improving health over the period or the economy's transition away from physical labour and towards mental labour. Then the opportunity cost hypothesis would explain their increasing participation. But this hypothesis does not explain why participation was so high in the 1970s when retirement age wages were at their lowest point.\n\nPerhaps the participation in the 1970s was of necessity. The period's stagflation would have eroded the value of nominal denominated fixed income (pensions, and investments); at the same time the low growth may have impeded the ability of children to care for their parents. This might have forced more elderly people to participate in the labour force.\n\nOf course all of these hypotheses would need to be tested in greater detail. A good place to start would be incorporating data on inflation and growth. Then nominal wages could be converted to real wages and the relative wages of elderly workers could be compared on a proportional basis over the period.\n\n## Overall\n\nThis analysis would be better served by a multiple linear regression model than these simple exploratory graphs. A regression would allow us to quantify and test the significance of many of the hypotheses outlined above. \n\nThere are no doubt many factors influencing labour force participation including wage, skill, race, location, profession, and age. The major weakness of the graphs we've conducted here is their inability to control for these other factors.\n",
    "supporting": [
      "LaborForce_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}